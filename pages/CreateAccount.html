<h1>Criar Conta</h1>

<form id="CreateAccountForm">
    <label for="name">Nome:</label>
    <input required type="text" name="name" />

    <label for="email">E-mail:</label>
    <input required type="email" name="email" />

    <label for="password">Senha:</label>
    <input required type="password" name="password" />

    <div class="buttons">
        <button id="LoginPage">Voltar</button>
        <button id="Submit">Criar</button>
    </div>
</form>

<script>
    (function () {
        /** @param {PointerEvent | SubmitEvent} event */
        const _submitHandler = (event) => {
            if (event.type === "submit") event.preventDefault();

            const name = Page().querySelector("[name=name]");
            const email = Page().querySelector("[name=email]");
            const password = Page().querySelector("[name=password]");

            if (!name.value || !email.value || !password.value) return;

            EmitEvent("CreateAccount", {
                name: name.value,
                email: email.value,
                password: password.value,
            });
        };

        setTimeout(() => {
            Page()
                .querySelector("#CreateAccountForm")
                .addEventListener("submit", _submitHandler);

            Page()
                .querySelector("#Submit")
                .addEventListener("click", _submitHandler);

            Page()
                .querySelector("#LoginPage")
                .addEventListener("click", () =>
                    EmitEvent("RequestPage", { page: "Login" })
                );
        });
    })();
</script>

<style>
    form {
        display: flex;
        flex-direction: column;
        width: 29rem;
    }

    .buttons {
        display: flex;
        gap: 1rem;
        margin-top: 5px;

        > button {
            width: 14rem;
        }
    }
</style>
