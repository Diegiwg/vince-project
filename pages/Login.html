<h1>Login</h1>

<form id="LoginForm">
    <label for="email">E-mail:</label>
    <input
        required
        type="email"
        name="email"
        autocomplete="email"
        autofocus="true"
    />

    <label for="password">Senha:</label>
    <input
        required
        type="password"
        name="password"
        autocomplete="current-password"
    />
</form>

<div class="buttons">
    <button id="Submit">Logar</button>
    <button id="CreateAccountPage">Criar Conta</button>
</div>

<hr />

<div id="users">
    <p>Usuários Disponíveis para Teste:</p>
    {{#users}}
    <p>
        <strong>Nome:</strong> {{name}} - <strong>Email:</strong> {{email}} -
        <strong>Senha:</strong> test
    </p>
    {{/users}}
</div>

<script>
    (function () {
        /** @param {PointerEvent | SubmitEvent} event */
        const _submitHandler = (event) => {
            if (event.type === "submit") event.preventDefault();

            const email = Page().querySelector("[name=email]");
            const password = Page().querySelector("[name=password]");

            if (!email.value || !password.value) return;

            EmitEvent("Login", {
                email: email.value,
                password: password.value,
            });
        };

        setTimeout(() => {
            Page()
                .querySelector("#LoginForm")
                .addEventListener("submit", _submitHandler);

            Page()
                .querySelector("#Submit")
                .addEventListener("click", _submitHandler);

            Page()
                .querySelector("#CreateAccountPage")
                .addEventListener("click", (event) =>
                    EmitEvent("RequestPage", { page: "CreateAccount" })
                );
        });
    })();
</script>

<style>
    form {
        display: flex;
        flex-direction: column;
        width: 29rem;
    }

    .buttons {
        display: flex;
        gap: 1rem;
        margin-top: 5px;

        > button {
            width: 14rem;
        }
    }
</style>
